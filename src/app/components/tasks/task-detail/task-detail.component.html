<div class="task-form">
    <div class="form-wrapper">
        <div class="action-buttons">
            <a routerLink="../../edit/{{task.key}}" [state]="task">
                <div class="edit">
                    <span>Edit</span>
                    <fa-icon [icon]="editIcon"></fa-icon>
                </div>
            </a>
            <div class="delete" (click)="deleteTask()">
                <span>Delete</span>
                <fa-icon [icon]="deleteIcon"></fa-icon>
            </div>
        </div>
        <div>
            <h3>Task Detail</h3>
            <div class="form-row">
                <div class="form-column">
                    <label for="name">Name</label>
                    <div>{{ task.name }}</div>
                </div>
                <div class="form-column">
                    <label for="name">User</label>
                    <a *ngIf="user" routerLink="/users/detail/{{user.id}}" style="text-decoration: none;">
                        <app-user-feature *ngIf="user" [user]="user"></app-user-feature>
                    </a>     
                </div>
            </div>
            <div class="form-row">
                <div class="form-column">
                    <label>Time do be done</label>
                    <div>
                        {{task.timeToDone}} Days
                    </div>
                </div>
                <div class="form-column">
                    <label>Priority</label>
                    <div>{{task.priority}}</div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-column">
                    <label>Functionality</label>
                    <div class="funtionality-link">
                        <a routerLink="/functionalities/detail/{{task.functionalityKey}}">
                            {{functionality?.title}}
                        </a>     
                    </div>
                </div>
                <div class="form-column">
                    <label>Status</label>
                    <app-status-badge [status]="task.status"></app-status-badge>
                </div>
            </div>
            <div class="form-row">
                <div class="form-column">
                    <label>Created</label>
                    <div>{{createdDate}}</div>
                </div>
                <div class="form-column" *ngIf="task.finishedAt">
                    <label>Finished</label>
                    <div>{{finishedDate}} <span *ngIf="finishedDate == null">{{task.finishedAt}}</span></div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-column">
                    <label>Project</label>
                    <div class="funtionality-link">
                        <a routerLink="/projects/detail/{{task.functionalityKey}}">
                            {{project?.title}}
                        </a>     
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-column col-100">
                    <label for="name">Description</label>
                    <div>{{ task.description }}</div>
                </div>
            </div>
        </div>
    </div>
</div>